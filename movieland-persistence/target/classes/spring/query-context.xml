<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="getAllMoviesSQL" class="java.lang.String">
        <constructor-arg value="SELECT id, name_russian, name_native,  year_of_release, description, rating, price, picture_path, votes
         FROM movie;"/>
    </bean>

    <bean id="getRandomMoviesSQL" class="java.lang.String">
        <constructor-arg value="SELECT
         m.id, m.name_russian, m.name_native, m.year_of_release, m.description,
         m.rating, m.price, m.picture_path, m.votes,
         GROUP_CONCAT(DISTINCT mg.genre_id SEPARATOR ',') as genre_ids,
         GROUP_CONCAT(DISTINCT mc.country_id SEPARATOR ',') as country_ids
         FROM movie m, movie_genre mg, movie_country mc
         WHERE m.id=mg.movie_id and m.id=mc.movie_id
         group by m.id
         ORDER BY RAND() LIMIT 3;"/>
    </bean>

    <bean id="getAllCountriesSQL" class="java.lang.String">
        <constructor-arg value="SELECT id, name FROM country;"/>
    </bean>

    <bean id="getAllGenresSQL" class="java.lang.String">
        <constructor-arg value="SELECT id, name FROM genre;"/>
    </bean>

</beans>
